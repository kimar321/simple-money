"use strict";(self["webpackChunkproject_money"]=self["webpackChunkproject_money"]||[]).push([[838],{838:function(e,s,l){l.r(s),l.d(s,{default:function(){return g}});var t=l(3396),a=l(4870),o=l(2483),n=l(65),u=l(1440),d=l(8116),i=l(1274);const p={class:"lesson"},c={key:1},m={class:"create-lesson"};var r=(0,t.aZ)({__name:"EditLesson",props:{lessonItem:{type:Object,default:()=>({id:Date.now(),title:"",description:"",type:"module"})},route:{type:String},edit:{type:Boolean,default:!1}},setup(e){const s=(0,n.oR)(),l=(0,o.yj)(),r=((0,o.yj)(),(0,t.Fl)({get:()=>s.state.lesson.showLesson,set:e=>s.state.lesson.showLesson=e})),v=(0,t.Fl)({get:()=>s.state.lesson.tmpLesson,set:e=>s.state.lesson.tmpLesson=e}),g=(0,t.Fl)({get:()=>s.state.lesson.lessonPage,set:e=>s.state.lesson.lessonPage=e}),y=(0,a.iH)(null);(0,t.YP)((()=>l.params.id),((e,t)=>{e!==t&&(console.log(l.params.id),s.dispatch("lesson/selectLesson",{id:l.params.id}))}),{immediate:!0,deep:!0});const f=()=>{s.dispatch("lesson/updateLesson",{item:v.value}),y.value.onEdit()},h=()=>{y.value.onEdit()},k=()=>{-1===g.value.id?(g.value.lesson_id=v.value.id,s.dispatch("lesson/createLessonPage",{item:g.value})):s.dispatch("lesson/updateLessonPage",{item:g.value})};return(e,s)=>((0,t.wg)(),(0,t.iD)("main",null,[(0,t._)("div",p,[r.value?((0,t.wg)(),(0,t.j4)(d.Z,{modelValue:v.value,"onUpdate:modelValue":s[0]||(s[0]=e=>v.value=e),type:"module",edit:!0,onSave:f,onEdit:h,ref_key:"cardRef",ref:y,key:v.value.id},null,8,["modelValue"])):((0,t.wg)(),(0,t.iD)("h3",c,"Загрузка..."))]),(0,t._)("div",m,[(0,t.Wm)(u.Z,{color:"success",label:"Сохранить",onClick:k}),((0,t.wg)(),(0,t.j4)(i.Z,{modelValue:g.value.page,"onUpdate:modelValue":s[1]||(s[1]=e=>g.value.page=e),key:g.value.id},null,8,["modelValue"]))])]))}});const v=r;var g=v}}]);
//# sourceMappingURL=838.2ac45a80.js.map