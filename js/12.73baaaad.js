"use strict";(self["webpackChunkproject_money"]=self["webpackChunkproject_money"]||[]).push([[12],{5012:function(e,l,t){t.r(l),t.d(l,{default:function(){return h}});t(7658);var a=t(3396),o=t(4870),s=t(2483),u=t(65),d=t(8116),n=t(1440);const i={class:"create-lesson"};var c=(0,a.aZ)({__name:"CreateLesson",props:{moduleId:{type:Number,default:()=>-1}},setup(e){const l=e,t=(0,u.oR)(),s=(0,o.iH)({}),c=(0,a.Fl)({get:()=>t.state.lesson.showCreateLesson,set:e=>t.state.lesson.showCreateLesson=e}),m=()=>{c.value=!c.value,s.value={title:"L",description:"",module_id:l.moduleId}},r=()=>{t.dispatch("lesson/createLesson",{item:s.value}),s.value={}};return(e,l)=>((0,a.wg)(),(0,a.iD)("div",i,[(0,a.Wm)(n.Z,{label:"Создать урок",color:"info",onClick:m}),c.value?((0,a.wg)(),(0,a.j4)(d.Z,{key:0,modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=e=>s.value=e),type:"lesson",edit:!0,onSave:r},null,8,["modelValue"])):(0,a.kq)("",!0)]))}});const m=c;var r=m;const v={class:"module"},p={key:1},g={class:"list-lessons"};var w=(0,a.aZ)({__name:"CreateModule",props:{moduleItem:{type:Object,default:()=>({id:Date.now(),title:"",description:"",type:"module"})},route:{type:String},edit:{type:Boolean,default:!1}},setup(e){const l=e,t=(0,u.oR)(),n=(0,s.yj)(),i=(0,s.tv)(),c=(0,o.iH)(n.path),m=(0,a.Fl)({get:()=>t.state.lesson.flag,set:e=>t.state.lesson.flag=e}),w=(0,a.Fl)({get:()=>t.state.lesson.tmpModule,set:e=>t.state.lesson.tmpModule=e}),y=(0,a.Fl)((()=>t.state.lesson.lessonsSub)),f=(0,o.iH)(null);(0,a.YP)((()=>l.route),((e,a)=>{if(e!==a)switch(console.log("watch"),console.log(e),c.value=n.path,e){case"edit-module":t.dispatch("lesson/selectModule",{id:n.params.id});break;case"create-module":w.value=l.moduleItem,m.value=!0;break}}),{immediate:!0,deep:!0});const h=async()=>{console.log("saveModule"),"create-module"===l.route?await t.dispatch("lesson/createModule",{item:w.value}):await t.dispatch("lesson/updateModule",{item:w.value}),f.value.onEdit()},k=()=>{f.value.onEdit()},_=e=>{i.push({name:"edit-lesson",params:{id:e}})};return(0,a.bv)((()=>{})),(e,l)=>((0,a.wg)(),(0,a.iD)("main",null,[(0,a._)("div",v,[m.value?((0,a.wg)(),(0,a.j4)(d.Z,{modelValue:w.value,"onUpdate:modelValue":l[0]||(l[0]=e=>w.value=e),type:"module",edit:!0,onSave:h,onEdit:k,ref_key:"cardRef",ref:f,key:w.value.id},null,8,["modelValue"])):((0,a.wg)(),(0,a.iD)("h3",p,"Загрузка..."))]),(0,a.Wm)(r,{"module-id":w.value.id},null,8,["module-id"]),(0,a._)("div",g,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(y.value,(e=>((0,a.wg)(),(0,a.j4)(d.Z,{"model-value":e,key:e.id,onEdit:l=>_(e.id)},null,8,["model-value","onEdit"])))),128))])]))}}),y=t(89);const f=(0,y.Z)(w,[["__scopeId","data-v-41db9cc6"]]);var h=f}}]);
//# sourceMappingURL=12.73baaaad.js.map